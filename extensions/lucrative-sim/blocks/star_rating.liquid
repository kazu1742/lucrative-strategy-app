{%- comment -%}
  Lucrative Simulator (App Block)
  - shop / product_id / app_url を JS に渡す
  - JS が API を叩いて SVG を描画する
{%- endcomment -%}

<div
  data-lucrative-sim
  data-shop="{{ shop.permanent_domain }}"
  data-product-id="{{ product.id }}"
  data-app-url="{{ block.settings.app_url | escape }}"
  style="max-width: 520px;"
>
  <div style="padding:14px;border:2px solid #00b8b8;border-radius:10px;">
    Loading simulator...
  </div>
</div>

<script src="{{ 'lucrative-sim.js' | asset_url }}" defer></script>

{% schema %}
{
  "name": "Lucrative Simulator",
  "target": "section",
  "settings": [
    {
      "type": "text",
      "id": "app_url",
      "label": "App base URL",
      "default": "http://localhost:57913"
    }
  ]
}
{% endschema %}
